{"remainingRequest":"C:\\Users\\86184\\Desktop\\æ ¡å›­æ–°é—»ç³»ç»Ÿ\\source code\\view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\86184\\Desktop\\æ ¡å›­æ–°é—»ç³»ç»Ÿ\\source code\\view\\src\\views\\admin\\UserManage.vue?vue&type=style&index=0&id=8c91afec&scoped=true&lang=scss&","dependencies":[{"path":"C:\\Users\\86184\\Desktop\\æ ¡å›­æ–°é—»ç³»ç»Ÿ\\source code\\view\\src\\views\\admin\\UserManage.vue","mtime":1755419214000},{"path":"C:\\Users\\86184\\Desktop\\æ ¡å›­æ–°é—»ç³»ç»Ÿ\\source code\\view\\node_modules\\css-loader\\dist\\cjs.js","mtime":1770531371325},{"path":"C:\\Users\\86184\\Desktop\\æ ¡å›­æ–°é—»ç³»ç»Ÿ\\source code\\view\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1770531338946},{"path":"C:\\Users\\86184\\Desktop\\æ ¡å›­æ–°é—»ç³»ç»Ÿ\\source code\\view\\node_modules\\postcss-loader\\src\\index.js","mtime":1770531352754},{"path":"C:\\Users\\86184\\Desktop\\æ ¡å›­æ–°é—»ç³»ç»Ÿ\\source code\\view\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1770531346550},{"path":"C:\\Users\\86184\\Desktop\\æ ¡å›­æ–°é—»ç³»ç»Ÿ\\source code\\view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1770531376377},{"path":"C:\\Users\\86184\\Desktop\\æ ¡å›­æ–°é—»ç³»ç»Ÿ\\source code\\view\\node_modules\\vue-loader\\lib\\index.js","mtime":1770531338936}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQoucGFnZXIgew0KICBtYXJnaW4tYmxvY2s6IDIwcHg7DQp9DQoNCi8qIOm7mOiupOmakOiXj+aTjeS9nOaMiemSriAqLw0KLm9wZXJhdGUtYnV0dG9ucyB7DQogIC8vIG9wYWNpdHk6IDA7DQogIHRyYW5zaXRpb246IG9wYWNpdHkgMC4zczsNCiAgLyog5re75Yqg6L+H5rih5pWI5p6cICovDQogIGN1cnNvcjogcG9pbnRlcjsNCg0KICBpIHsNCiAgICBwYWRkaW5nOiA4cHg7DQogICAgYm9yZGVyLXJhZGl1czogNnB4Ow0KICAgIHRyYW5zaXRpb246IGFsbCAuNXMgZWFzZTsNCg0KICAgICY6aG92ZXIgew0KICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDIzNiwgMjM3LCAyMzgpOw0KICAgIH0NCiAgfQ0KDQp9DQoNCi8qIOihjOaCrOWBnOaXtuaYvuekuuaTjeS9nOaMiemSriAqLw0KLmVsLXRhYmxlX19ib2R5IHRyOmhvdmVyIC5vcGVyYXRlLWJ1dHRvbnMgew0KICBvcGFjaXR5OiAxOw0KfQ0KDQouY29udGFpbmVyIHsNCiAgbWFyZ2luOiAxMHB4IDIwcHg7DQp9DQoNCi50b3AtaGVhZGVyIHsNCiAgbWFyZ2luLWJsb2NrOiAxMHB4Ow0KICBwYWRkaW5nLWlubGluZTogMTBweDsNCiAgYm9yZGVyLXJhZGl1czogNXB4Ow0KICBkaXNwbGF5OiBmbGV4Ow0KICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47DQogIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQoNCiAgLm5hdi1sZWZ0LA0KICAubmF2LXJpZ2h0IHsNCiAgICBkaXNwbGF5OiBmbGV4Ow0KICAgIGp1c3RpZnktY29udGVudDogbGVmdDsNCiAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgIGdhcDogMTBweDsNCiAgfQ0KDQogIC5uYXYtbGVmdCB7DQogICAgZGlzcGxheTogZmxleDsNCiAgfQ0KDQp9DQo="},{"version":3,"sources":["UserManage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8UA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA","file":"UserManage.vue","sourceRoot":"src/views/admin","sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <div class=\"top-header\">\r\n      <div class=\"nav-left\">\r\n        <Tab :buttons=\"[\r\n          { label: 'å…¨éƒ¨', value: 'null' },\r\n          { label: 'ç®¡ç†å‘˜', value: '1' },\r\n          { label: 'æ™®é€šç”¨æˆ·', value: '2' }\r\n        ]\" initialActive=\"null\" @change=\"handleChange\" />\r\n      </div>\r\n      <div class=\"nav-right\">\r\n        <div>\r\n          <AutoInput placeholder=\"æœç´¢ç”¨æˆ·\" @listener=\"listener\" />\r\n        </div>\r\n        <div class=\"primary-bt\" @click=\"dialogVisible = true\">\r\n          <i class=\"el-icon-plus\"></i>\r\n          æ–°å¢ç”¨æˆ·\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- è¡¨æ ¼åŠåˆ†é¡µä¿¡æ¯ -->\r\n    <div>\r\n      <el-table :data=\"apiResult.data\">\r\n        <el-table-column prop=\"username\" label=\"ç”¨æˆ·\">\r\n          <template #default=\"scope\">\r\n            <div class=\"over-text\">\r\n              <img width=\"20px\" height=\"20px\" style=\"border-radius: 50%;\" :src=\"scope.row.avatar\" alt=\"\">\r\n              {{ scope.row.username }}\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"account\" :sortable=\"true\" width=\"118\" label=\"è´¦å·\"></el-table-column>\r\n        <el-table-column prop=\"email\" :sortable=\"true\" width=\"158\" label=\"é‚®ä»¶\">\r\n          <template #default=\"scope\">\r\n            <div class=\"over-text\">\r\n              {{ scope.row.email }}\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"gender\" :sortable=\"true\" width=\"88\" label=\"æ€§åˆ«\">\r\n          <template #default=\"scope\">\r\n            <div>{{ scope.row.gender === 1 ? 'å¥³' : 'ç”·' }}</div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"phone\" :sortable=\"true\" width=\"128\" label=\"è”ç³»ç”µè¯\"></el-table-column>\r\n        <el-table-column prop=\"birthday\" :sortable=\"true\" width=\"128\" label=\"å‡ºç”Ÿå¹´æœˆ\"></el-table-column>\r\n        <el-table-column label=\"æ“ä½œ\" width=\"150\" align=\"center\">\r\n          <template #default=\"scope\">\r\n            <div class=\"operate-buttons\">\r\n              <el-dropdown trigger=\"click\" placement=\"bottom-end\">\r\n                <span class=\"el-dropdown-link\">\r\n                  <i class=\"el-icon-more\"></i>\r\n                </span>\r\n                <el-dropdown-menu slot=\"dropdown\">\r\n                  <el-dropdown-item @click.native=\"handleEdit(scope.row)\" icon=\"el-icon-edit\">\r\n                    ä¿®æ”¹ä¿¡æ¯\r\n                  </el-dropdown-item>\r\n                  <el-dropdown-item @click.native=\"handleDelete(scope.row)\"\r\n                    icon=\"el-icon-delete\">åˆ é™¤ç”¨æˆ·</el-dropdown-item>\r\n                </el-dropdown-menu>\r\n              </el-dropdown>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <!-- åˆ†é¡µç»„ä»¶åŒºåŸŸ -->\r\n      <div class=\"pager\">\r\n        <el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\"\r\n          :current-page=\"userQueryDto.current\" :page-sizes=\"[10, 20]\" :page-size=\"userQueryDto.size\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\" :total=\"apiResult.total\"></el-pagination>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- ç”¨æˆ·ä¿¡æ¯æ“ä½œå¼¹çª— -->\r\n    <el-dialog :title=\"dialogControlOperation ? 'æ–°å¢ç”¨æˆ·ä¿¡æ¯' : 'ä¿®æ”¹ç”¨æˆ·ä¿¡æ¯'\" :show-close=\"false\" :visible.sync=\"dialogVisible\"\r\n      :closeOnClickModal=\"false\" width=\"32%\">\r\n      <el-tabs v-model=\"tabActiveName\" :tab-position=\"tabPosition\" style=\"height: 440px;\">\r\n        <el-tab-pane label=\"æ ¸å¿ƒä¿¡æ¯\" name=\"first\">\r\n          <div>\r\n            <div class=\"user-avatar\">\r\n              <p>ç‚¹å‡»ğŸ“·å¤„å³å¯ä¸Šä¼ å¤´åƒ</p>\r\n              <img v-if=\"avatar\" :src=\"avatar || ''\" alt=\"\">\r\n              <el-upload class=\"avatar-uploader\" action=\"http://localhost:21090/api/v1.0/campus-news-api/file/upload\" :show-file-list=\"false\"\r\n                :on-success=\"handleImageSuccess\">\r\n                <i class=\"el-icon-camera-solid\"></i>\r\n              </el-upload>\r\n            </div>\r\n            <div>\r\n              <p>*ç”¨æˆ·è´¦å·</p>\r\n              <span v-if=\"!dialogControlOperation\"\r\n                style=\"display: inline-block;margin-bottom: 10px;font-size: 10px;\">è´¦å·ä¸€ç»æ³¨å†Œï¼Œä¸å¯ä¿®æ”¹</span>\r\n              <el-input :disabled=\"!dialogControlOperation\" placeholder=\"è¾“å…¥\" v-model=\"apiParam.account\" clearable>\r\n              </el-input>\r\n            </div>\r\n            <div>\r\n              <p>*ç”¨æˆ·å</p>\r\n              <el-input placeholder=\"è¾“å…¥\" v-model=\"apiParam.username\" clearable>\r\n              </el-input>\r\n            </div>\r\n            <div>\r\n              <p>*ç™»å½•å¯†ç </p>\r\n              <el-input show-password placeholder=\"è¾“å…¥\" type=\"password\" v-model=\"password\" clearable>\r\n              </el-input>\r\n            </div>\r\n          </div>\r\n        </el-tab-pane>\r\n        <el-tab-pane label=\"åŸºæœ¬ä¿¡æ¯\" name=\"second\">\r\n          <div>\r\n            <div>\r\n              <p>*ç”¨æˆ·è§’è‰²</p>\r\n              <Tab :buttons=\"[\r\n                { label: 'ç®¡ç†å‘˜', value: '1' },\r\n                { label: 'æ™®é€šç”¨æˆ·', value: '2' }\r\n              ]\" :initialActive=\"String(apiParam.role)\" @change=\"handleRoleChange\" />\r\n            </div>\r\n            <div>\r\n              <p>ç”¨æˆ·æ€§åˆ«</p>\r\n              <Tab :buttons=\"[\r\n                { label: 'å¥³', value: '1' },\r\n                { label: 'ç”·', value: '2' }\r\n              ]\" :initialActive=\"String(apiParam.gender) || '2'\" @change=\"handleGenderChange\" />\r\n            </div>\r\n            <div>\r\n              <p>ç”µå­é‚®ä»¶</p>\r\n              <el-input placeholder=\"è¾“å…¥\" v-model=\"apiParam.email\" clearable>\r\n              </el-input>\r\n            </div>\r\n            <div>\r\n              <p>è”ç³»ç”µè¯</p>\r\n              <el-input placeholder=\"è¾“å…¥\" v-model=\"apiParam.phone\" clearable>\r\n              </el-input>\r\n            </div>\r\n            <div>\r\n              <p>å‡ºç”Ÿå¹´æœˆ</p>\r\n              <el-date-picker style=\"width: 100%;\" v-model=\"apiParam.birthday\" type=\"date\" placeholder=\"é€‰æ‹©æ—¥æœŸ\">\r\n              </el-date-picker>\r\n            </div>\r\n          </div>\r\n        </el-tab-pane>\r\n      </el-tabs>\r\n\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <span class=\"primary-bt\" @click=\"cancelOperation\">å–æ¶ˆ</span>\r\n        <span class=\"info-bt\" @click=\"handleConfirm\">\r\n          {{ dialogControlOperation ? 'ç¡®å®šæ–°å¢' : 'ç¡®å®šä¿®æ”¹' }}\r\n        </span>\r\n      </span>\r\n    </el-dialog>\r\n\r\n    <!-- åˆ é™¤ç¡®è®¤å¼¹çª— -->\r\n    <el-dialog title=\"åˆ é™¤ç”¨æˆ·\" :show-close=\"false\" :visible.sync=\"dialogDeletedVisible\" width=\"20%\">\r\n      <span>ç¡®å®šåˆ é™¤ç”¨æˆ·æ•°æ®ï¼Ÿ</span>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button size=\"mini\" @click=\"dialogDeletedVisible = false\">å–æ¶ˆ</el-button>\r\n        <el-button size=\"mini\" type=\"primary\" @click=\"confirmDeleted\">ç¡®å®š</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// Bç«™ ã€Œç¨‹åºå‘˜è¾°æ˜Ÿã€åŸåˆ›å‡ºå“\r\nimport AutoInput from \"@/components/AutoInput.vue\"; // å¯¼å…¥å°è£…å¥½çš„è¾“å…¥æ¡†ç»„ä»¶\r\nimport Tab from \"@/components/Tab\" // å¯¼å…¥å°è£…å¥½çš„Tabç»„ä»¶\r\nexport default {\r\n  components: { AutoInput, Tab }, // æ³¨å†Œç»„ä»¶\r\n  data() {\r\n    return {\r\n      tabActiveName: 'first', // æ“ä½œå¼¹çª—åˆå§‹tabé¡µé€‰ä¸­ç¬¬ä¸€é¡¹\r\n      tabPosition: 'right', // æ“ä½œå¼¹çª—æ’å¸ƒé å³\r\n      id: null, // é¡µé¢å³å°†åˆ é™¤çš„æ•°æ®ID\r\n      apiResult: { // åç«¯è¿”å›çš„æŸ¥è¯¢æ•°æ®çš„å“åº”æ•°æ®\r\n        data: [], // æ•°æ®é¡¹\r\n        total: 0, // ç¬¦åˆæ¡ä»¶çš„æ•°æ®æ€»æƒ³ - åˆå§‹èµ‹å€¼ä¸º0\r\n      },\r\n      userQueryDto: { // æœç´¢æ¡ä»¶\r\n        current: 1, // å½“å‰é¡µ - åˆå§‹æ˜¯ç¬¬ä¸€é¡µ\r\n        size: 10, // é¡µé¢æ˜¾ç¤ºå¤§å° - åˆå§‹æ˜¯10æ¡\r\n        role: null, // ç”¨æˆ·è§’è‰² - nullï¼šæŸ¥è¯¢å…¨éƒ¨ï¼›1ï¼šç®¡ç†å‘˜ï¼›2æ™®é€šç”¨æˆ·\r\n        username: null, // ç”¨æˆ·å\r\n      },\r\n      dialogDeletedVisible: false, // åˆ é™¤å¼¹çª—æ§åˆ¶å¼€å…³å˜é‡ - åˆå§‹æ˜¯å…³ï¼ˆfalseï¼‰\r\n      dialogVisible: false, // æ“ä½œå¼¹çª—æ§åˆ¶å¼€å…³å˜é‡ - åˆå§‹æ˜¯å…³ï¼ˆfalseï¼‰\r\n      dialogControlOperation: true, // å¼¹çª—å½“å‰æ“ä½œæ ‡è¯† - trueï¼šæ–°å¢ï¼›falseï¼šä¿®æ”¹\r\n      apiParam: {}, // ä¼ é€è¿›åç«¯çš„æ•°æ® - ç”¨äºæ–°å¢ä¸ä¿®æ”¹åœºæ™¯\r\n      avatar: '', // ç”¨æˆ·å¤´åƒ\r\n      password: '', // ç”¨æˆ·å¯†ç \r\n    };\r\n  },\r\n  created() {\r\n    this.fetchFreshData(); // é¡µé¢åˆ›å»ºæ—¶ï¼Œå…ˆå»åŠ è½½ç”¨æˆ·æ•°æ®\r\n  },\r\n  methods: {\r\n    handleConfirm() {\r\n      // åˆ¤æ–­è¡Œä¸ºç±»å‹ - åˆ¤æ–­æ˜¯æ–°å¢æ“ä½œè¿˜æ˜¯ä¿®æ”¹æ“ä½œ\r\n      this.dialogControlOperation ? this.saveUserOperation() : this.updateUserOperation();\r\n    },\r\n    // è´¦å·çŠ¶æ€åˆ‡æ¢\r\n    handleIsLoginChange(obj) {\r\n      this.apiParam.isLogin = Number(obj.value);\r\n    },\r\n    // ç¦è¨€çŠ¶æ€åˆ‡æ¢\r\n    handleIsWordChange(obj) {\r\n      this.apiParam.isWord = Number(obj.value);\r\n    },\r\n    // è§’è‰²åˆ‡æ¢\r\n    handleRoleChange(obj) {\r\n      this.apiParam.role = Number(obj.value);\r\n    },\r\n    // æ€§åˆ«é€‰æ‹©åˆ‡æ¢\r\n    handleGenderChange(obj) {\r\n      this.apiParam.gender = Number(obj.value);\r\n    },\r\n    // ä¿®æ”¹ç”¨æˆ·ä¿¡æ¯æ“ä½œ\r\n    async updateUserOperation() {\r\n      try {\r\n        this.apiParam.avatar = this.avatar; // å¤´åƒèµ‹å€¼å¤„ç†\r\n        this.apiParam.password = !this.password ? null : this.$md5(this.$md5(this.password)); // æ²¡è¾“å…¥å°±æ˜¯ä¸ç”¨æ”¹ï¼Œå¦åˆ™å°±æ˜¯å¯†ç äºŒæ¬¡md5åŠ å¯†\r\n        const { data, message } = await this.$axios.put('/user/backUpdate', this.apiParam);\r\n        this.apiParam = data;\r\n        this.cancelOperation(); // çŠ¶æ€ç½®ä½\r\n        this.$message.success(message); // æ¶ˆæ¯æç¤º\r\n        this.fetchFreshData(); // é‡æ–°åŠ è½½åˆ—è¡¨æ•°æ®\r\n      } catch (error) {\r\n        this.$message.warning(error.message);\r\n      }\r\n    },\r\n    // ä¿å­˜ç”¨æˆ·ä¿¡æ¯æ“ä½œ\r\n    async saveUserOperation() {\r\n      try {\r\n        if (!this.password) { // å¯†ç æœªè¾“å…¥çš„æƒ…å†µ\r\n          this.$message.warning('å¯†ç ä¸èƒ½ä¸ºç©ºå“¦');\r\n          return;\r\n        }\r\n        this.apiParam.avatar = this.avatar; // å¤´åƒèµ‹å€¼å¤„ç†\r\n        this.apiParam.password = this.$md5(this.$md5(this.password)); // å¯†ç äºŒæ¬¡md5åŠ å¯†\r\n        const { message } = await this.$axios.post('/user/save', this.apiParam);\r\n        this.cancelOperation(); // çŠ¶æ€ç½®ä½\r\n        this.$message.success(message); // æ¶ˆæ¯æç¤º\r\n        this.fetchFreshData(); // é‡æ–°åŠ è½½åˆ—è¡¨æ•°æ®\r\n      } catch (error) {\r\n        this.$message.warning(error.message);\r\n      }\r\n    },\r\n    // å–æ¶ˆå¤„ç†\r\n    cancelOperation() {\r\n      this.apiParam = {}; // å°†å‚æ•°å¯¹è±¡æ¸…ç½®\r\n      this.avatar = ''; // ç”¨æˆ·å¤´åƒæ¸…ç½®\r\n      this.password = '';// å¯†ç ä¿¡æ¯æ¸…ç©º\r\n      this.tabActiveName = 'first'; // æ“ä½œåˆ—è¡¨æ¢å¤é»˜è®¤é€‰ä¸­ç¬¬ä¸€é¡¹\r\n      this.dialogVisible = false; // å…³é—­ç”¨æˆ·æ–°å¢å¼¹çª—\r\n      this.dialogControlOperation = true; // æ“ä½œæ ‡è¯†å˜é‡è®¾ç½®ä¸ºæœ€åˆçš„çŠ¶æ€ï¼Œå³trueï¼Œä¸ºæ–°å¢\r\n    },\r\n    // å¤´åƒä¸Šä¼ å“åº”\r\n    handleImageSuccess(res, file) {\r\n      // é€šçŸ¥æç¤º\r\n      this.$notify({\r\n        title: 'å¤´åƒä¸Šä¼ ',\r\n        type: res.code === 200 ? 'success' : 'error',\r\n        message: res.code === 200 ? 'ä¸Šä¼ æˆåŠŸ' : res.data,\r\n        position: 'buttom-right',\r\n        suration: 1000,\r\n      })\r\n      if (res.code === 200) {\r\n        this.avatar = res.data; // å“åº”é‡Œé¢çš„dataï¼Œå³åç«¯è¿”å›çš„ä¸Šä¼ åçš„å›¾ç‰‡é“¾æ¥\r\n      }\r\n    },\r\n    // ç”¨æˆ·è§’è‰²çŠ¶æ€é€‰ä¸­äº‹ä»¶\r\n    handleChange(obj) {\r\n      this.userQueryDto.role = Number(obj.value); // è½¬æˆæ•°å€¼ç±»å‹ï¼Œå†èµ‹å€¼\r\n      this.fetchFreshData(); // é‡æ–°åŠ è½½ç”¨æˆ·æ•°æ®\r\n    },\r\n    // è¾“å…¥æ¡†ç»„ä»¶è¾“å…¥å›ä¼ \r\n    listener(text) {\r\n      this.userQueryDto.username = text; // èµ‹å€¼æŸ¥è¯¢æ¡ä»¶çš„å†…å®¹\r\n      this.fetchFreshData(); // é‡æ–°åŠ è½½æ•°æ®\r\n    },\r\n    // æŸ¥è¯¢ç”¨æˆ·æ•°æ®\r\n    async fetchFreshData() {\r\n      try {\r\n        const { data, total } = await this.$axios.post('/user/query', this.userQueryDto);\r\n        this.apiResult.data = data;\r\n        this.apiResult.total = total;\r\n      } catch (error) {\r\n        console.error('æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯å¼‚å¸¸:', error);\r\n      }\r\n    },\r\n    // åˆ†é¡µ - å¤„ç†é¡µé¢é¡µæ•°åˆ‡æ¢\r\n    handleSizeChange(size) {\r\n      this.userQueryDto.size = size; // å½“å‰é¡µé¢å¤§å°é‡ç½®\r\n      this.userQueryDto.currrent = 1; // å½“å‰é¡µè®¾ç½®ä¸ºç¬¬ä¸€é¡µ\r\n      this.fetchFreshData(); // é‡æ–°åŠ è½½é¡µé¢æ•°æ®\r\n    },\r\n    // åˆ†é¡µ - å¤„ç†é¡µé¢å½“å‰é¡µåˆ‡æ¢\r\n    handleCurrentChange(current) {\r\n      this.userQueryDto.current = current; // å½“å‰é¡µé€‰ä¸­\r\n      this.fetchFreshData(); // é‡æ–°åŠ è½½é¡µé¢æ•°æ®\r\n    },\r\n    // è¡¨æ ¼ç‚¹å‡»ä¿®æ”¹ç”¨æˆ·\r\n    handleEdit(row) {\r\n      this.cancelOperation();\r\n      this.apiParam = { ...row }; // å½“å‰æ“ä½œç”¨æˆ·ä¿¡æ¯\r\n      this.dialogControlOperation = false; // æ ‡è¯†ä¸ºä¿®æ”¹æ“ä½œ\r\n      this.dialogVisible = true; // æ‰“å¼€æ“ä½œé¢æ¿\r\n      this.avatar = row.avatar; // å¤´åƒæ‰‹åŠ¨èµ‹å€¼\r\n    },\r\n    // è¡¨æ ¼ç‚¹å‡»åˆ é™¤ç”¨æˆ·\r\n    handleDelete(row) {\r\n      this.dialogDeletedVisible = true; // å¼€å¯åˆ é™¤å¼¹çª—ç¡®è®¤\r\n      this.id = row.id;\r\n    },\r\n    // ç”¨æˆ·åˆ é™¤\r\n    async confirmDeleted() {\r\n      try {\r\n        const { code } = await this.$axios.delete(`/user/${this.id}`);\r\n        if (code === 200) {\r\n          this.$notify.success({\r\n            title: 'ç”¨æˆ·åˆ é™¤',\r\n            message: 'åˆ é™¤æˆåŠŸ',\r\n            position: 'buttom-right',\r\n            duration: 1000,\r\n          });\r\n          this.dialogDeletedVisible = false; // å…³é—­åˆ é™¤ç¡®è®¤å¼¹çª—\r\n          this.id = null; // å°†æ ‡è¯†IDç½®ä½\r\n          this.fetchFreshData(); // åˆ é™¤ç”¨æˆ·æ•°æ®ä¹‹åï¼Œé‡æ–°åŠ è½½ç”¨æˆ·æ•°æ®\r\n        }\r\n      } catch (error) {\r\n        console.log(\"åˆ é™¤ç”¨æˆ·æ•°æ®å¼‚å¸¸ï¼š\", error);\r\n      }\r\n    }\r\n  },\r\n};\r\n</script>\r\n<style scoped lang=\"scss\">\r\n.pager {\r\n  margin-block: 20px;\r\n}\r\n\r\n/* é»˜è®¤éšè—æ“ä½œæŒ‰é’® */\r\n.operate-buttons {\r\n  // opacity: 0;\r\n  transition: opacity 0.3s;\r\n  /* æ·»åŠ è¿‡æ¸¡æ•ˆæœ */\r\n  cursor: pointer;\r\n\r\n  i {\r\n    padding: 8px;\r\n    border-radius: 6px;\r\n    transition: all .5s ease;\r\n\r\n    &:hover {\r\n      background-color: rgb(236, 237, 238);\r\n    }\r\n  }\r\n\r\n}\r\n\r\n/* è¡Œæ‚¬åœæ—¶æ˜¾ç¤ºæ“ä½œæŒ‰é’® */\r\n.el-table__body tr:hover .operate-buttons {\r\n  opacity: 1;\r\n}\r\n\r\n.container {\r\n  margin: 10px 20px;\r\n}\r\n\r\n.top-header {\r\n  margin-block: 10px;\r\n  padding-inline: 10px;\r\n  border-radius: 5px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n\r\n  .nav-left,\r\n  .nav-right {\r\n    display: flex;\r\n    justify-content: left;\r\n    align-items: center;\r\n    gap: 10px;\r\n  }\r\n\r\n  .nav-left {\r\n    display: flex;\r\n  }\r\n\r\n}\r\n</style>"]}]}