{"remainingRequest":"C:\\Users\\86184\\Desktop\\校园新闻系统\\source code\\view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\86184\\Desktop\\校园新闻系统\\source code\\view\\src\\views\\user\\CollectionFolder.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\86184\\Desktop\\校园新闻系统\\source code\\view\\src\\views\\user\\CollectionFolder.vue","mtime":1756017991000},{"path":"C:\\Users\\86184\\Desktop\\校园新闻系统\\source code\\view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1770531376377},{"path":"C:\\Users\\86184\\Desktop\\校园新闻系统\\source code\\view\\node_modules\\vue-loader\\lib\\index.js","mtime":1770531338936}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgbmV3c0xpc3Q6IFtdLAogICAgICAgICAgICBuZXdzUXVlcnlEdG86IHsKICAgICAgICAgICAgICAgIHRpdGxlOiAnJywKICAgICAgICAgICAgICAgIGN1cnJlbnQ6IDEsIC8vIOm7mOiupOesrOS4gOmhtQogICAgICAgICAgICAgICAgc2l6ZTogMTIsIC8vIOm7mOiupOS4gOmhtTEw5p2hCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHRvdGFsOiAwLAogICAgICAgIH0KICAgIH0sCiAgICBhc3luYyBjcmVhdGVkKCkgewogICAgICAgIHRoaXMubmV3c1F1ZXJ5RHRvLnRpdGxlID0gdGhpcy4kcm91dGVyLmN1cnJlbnRSb3V0ZS5xdWVyeS5rZXk7CiAgICAgICAgdGhpcy5mZXRjaE5ld3NMaXN0KCk7IC8vIOmAmui/h+WFs+mUruivjeafpeivouaWsOmXu+aVsOaNruWIl+ihqAogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBuZXdzQ2xpY2sobmV3cykgewogICAgICAgICAgICB3aW5kb3cub3BlbihgL25ld3MtZGV0YWlsP2lkPSR7bmV3cy5pZH1gKTsKICAgICAgICB9LAogICAgICAgIC8vIOWIhumhtSAtIOWkhOeQhumhtemdouW9k+WJjemhteWIh+aNogogICAgICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UoY3VycmVudCkgewogICAgICAgICAgICB0aGlzLm5ld3NRdWVyeUR0by5jdXJyZW50ID0gY3VycmVudDsgLy8g5b2T5YmN6aG16YCJ5LitCiAgICAgICAgICAgIHRoaXMuZmV0Y2hOZXdzTGlzdCgpOyAvLyDph43mlrDliqDovb3pobXpnaLmlbDmja4KICAgICAgICB9LAogICAgICAgIGhhbmRsZVNpemVDaGFuZ2Uoc2l6ZSkgewogICAgICAgICAgICB0aGlzLm5ld3NRdWVyeUR0by5zaXplID0gc2l6ZTsgLy8g5b2T5YmN6aG16Z2i5aSn5bCP6YeN572uCiAgICAgICAgICAgIHRoaXMubmV3c1F1ZXJ5RHRvLmN1cnJyZW50ID0gMTsgLy8g5b2T5YmN6aG16K6+572u5Li656ys5LiA6aG1CiAgICAgICAgICAgIHRoaXMuZmV0Y2hOZXdzTGlzdCgpOyAvLyDph43mlrDliqDovb3pobXpnaLmlbDmja4KICAgICAgICB9LAogICAgICAgIGFzeW5jIGZldGNoTmV3c0xpc3QoKSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEsIHRvdGFsIH0gPSBhd2FpdCB0aGlzLiRheGlvcy5wb3N0KGAvbmV3cy9jb2xsZWN0aW9uTGlzdGAsIHRoaXMubmV3c1F1ZXJ5RHRvKTsKICAgICAgICAgICAgICAgIHRoaXMubmV3c0xpc3QgPSBkYXRhOwogICAgICAgICAgICAgICAgdGhpcy50b3RhbCA9IHRvdGFsOwogICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKGVycm9yLm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign5p+l6K+i5paw6Ze75pWw5o2u5YiX6KGo5byC5bi4OicsIGVycm9yKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICB9Cn0K"},{"version":3,"sources":["CollectionFolder.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CollectionFolder.vue","sourceRoot":"src/views/user","sourcesContent":["<template>\n    <div class=\"search-container\">\n        <!-- 搜索结果 -->\n        <div class=\"result-container\">\n            <div>\n                共收藏新闻\n                <span class=\"result\">{{ total }}</span>\n                篇\n            </div>\n            <div class=\"search-block\">\n                <input @keyup.enter=\"fetchNewsList\" v-model=\"newsQueryDto.title\" placeholder=\"搜索新闻...\" type=\"text\">\n                <div @click=\"fetchNewsList\">\n                    <i class=\"el-icon-search\"></i>\n                </div>\n            </div>\n        </div>\n        <!-- 内容区域 -->\n        <div>\n            <div class=\"health-news\">\n                <div v-if=\"!newsList.length\">\n                    <el-empty description=\"暂无新闻信息\"></el-empty>\n                </div>\n                <div @click=\"newsClick(healthNews)\" class=\"item\" v-for=\"(healthNews, index) in newsList\" :key=\"index\">\n                    <img class=\"cover\" :src=\"healthNews.cover\" alt=\"\" srcset=\"\">\n                    <span class=\"view-count\">{{ healthNews.newsTypeName }}</span>\n                    <div class=\"title\">{{ healthNews.title }}</div>\n                </div>\n            </div>\n        </div>\n        <!-- 分页区域 -->\n        <div class=\"pager\">\n            <el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\"\n                :current-page=\"newsQueryDto.current\" :page-sizes=\"[12, 24]\" :page-size=\"newsQueryDto.size\"\n                layout=\"total, sizes, prev, pager, next, jumper\" :total=\"total\"></el-pagination>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    data() {\n        return {\n            newsList: [],\n            newsQueryDto: {\n                title: '',\n                current: 1, // 默认第一页\n                size: 12, // 默认一页10条\n            },\n            total: 0,\n        }\n    },\n    async created() {\n        this.newsQueryDto.title = this.$router.currentRoute.query.key;\n        this.fetchNewsList(); // 通过关键词查询新闻数据列表\n    },\n    methods: {\n        newsClick(news) {\n            window.open(`/news-detail?id=${news.id}`);\n        },\n        // 分页 - 处理页面当前页切换\n        handleCurrentChange(current) {\n            this.newsQueryDto.current = current; // 当前页选中\n            this.fetchNewsList(); // 重新加载页面数据\n        },\n        handleSizeChange(size) {\n            this.newsQueryDto.size = size; // 当前页面大小重置\n            this.newsQueryDto.currrent = 1; // 当前页设置为第一页\n            this.fetchNewsList(); // 重新加载页面数据\n        },\n        async fetchNewsList() {\n            try {\n                const { data, total } = await this.$axios.post(`/news/collectionList`, this.newsQueryDto);\n                this.newsList = data;\n                this.total = total;\n            } catch (error) {\n                this.$message.warning(error.message);\n                console.error('查询新闻数据列表异常:', error);\n            }\n        },\n    }\n}\n</script>\n\n<style scoped lang=\"scss\">\n\n.search-block {\n    display: flex;\n    align-items: center;\n    background-color: rgb(246, 246, 246);\n    box-shadow: 0 4px 6px rgb(240,240,240);\n    padding: 6px 10px;\n    border-radius: 20px;\n\n    input {\n        outline: none;\n        border: none;\n        font-size: 14px;\n        background-color: rgb(246, 246, 246);\n    }\n\n    div {\n\n        &:hover {\n            cursor: pointer;\n        }\n    }\n}\n\n.view-count {\n    position: absolute;\n    top: 0;\n    left: 0;\n    color: rgb(255, 255, 255);\n    display: inline-block;\n    // border-radius: 5px;\n    border-top-left-radius: 5px;\n    border-bottom-right-radius: 5px;\n    padding: 2px 8px;\n    font-size: 12px;\n    font-weight: 600;\n    background-color: rgba(0, 0, 0, 0.6);\n\n    i {\n        margin-right: 4px;\n    }\n}\n\n.health-news {\n    display: flex;\n    flex-wrap: wrap;\n    padding: 20px 0;\n    gap: 15px;\n    /* 添加间距 */\n}\n\n.health-news .item {\n    flex: 0 0 calc(20% - 15px);\n    /* 每行5个，减去间距 */\n    max-width: calc(25% - 15px);\n    /* 防止flex布局在某些情况下失效 */\n    box-sizing: border-box;\n    cursor: pointer;\n    transition: transform 0.3s ease;\n    position: relative;\n}\n\n.health-news .item:hover {\n    transform: translateY(-5px);\n}\n\n.health-news .cover {\n    width: 100%;\n    height: 120px;\n    object-fit: cover;\n    border-radius: 8px;\n    margin-bottom: 10px;\n}\n\n.health-news .title {\n    font-size: 18px;\n    font-weight: 500;\n    white-space: nowrap;\n    /* 不换行 */\n    overflow: hidden;\n    /* 超出隐藏 */\n    text-overflow: ellipsis;\n    /* 显示省略号 */\n    padding: 0 5px;\n}\n\n.result-container {\n    font-size: 22px;\n    margin-bottom: 20px;\n    display: flex;\n    justify-content: space-between;\n\n    .result {\n        font-size: 34px;\n        font-weight: bold;\n    }\n}\n\n.search-container {\n    width: 800px;\n    margin: 0 auto;\n    padding: 30px 10px;\n    box-sizing: border-box;\n}\n\n.pager {\n    margin-block: 20px;\n}\n</style>"]}]}