{"remainingRequest":"C:\\Users\\86184\\Desktop\\校园新闻系统\\source code\\view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\86184\\Desktop\\校园新闻系统\\source code\\view\\src\\views\\user\\SearchPage.vue?vue&type=style&index=0&id=17c0aede&scoped=true&lang=scss&","dependencies":[{"path":"C:\\Users\\86184\\Desktop\\校园新闻系统\\source code\\view\\src\\views\\user\\SearchPage.vue","mtime":1755766130000},{"path":"C:\\Users\\86184\\Desktop\\校园新闻系统\\source code\\view\\node_modules\\css-loader\\dist\\cjs.js","mtime":1770531371325},{"path":"C:\\Users\\86184\\Desktop\\校园新闻系统\\source code\\view\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1770531338946},{"path":"C:\\Users\\86184\\Desktop\\校园新闻系统\\source code\\view\\node_modules\\postcss-loader\\src\\index.js","mtime":1770531352754},{"path":"C:\\Users\\86184\\Desktop\\校园新闻系统\\source code\\view\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1770531346550},{"path":"C:\\Users\\86184\\Desktop\\校园新闻系统\\source code\\view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1770531376377},{"path":"C:\\Users\\86184\\Desktop\\校园新闻系统\\source code\\view\\node_modules\\vue-loader\\lib\\index.js","mtime":1770531338936}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5zZWFyY2gtYmxvY2sgewogICAgZGlzcGxheTogZmxleDsKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjQ2LCAyNDYsIDI0Nik7CiAgICBib3gtc2hhZG93OiAwIDRweCA2cHggcmdiKDI0MCwyNDAsMjQwKTsKICAgIHBhZGRpbmc6IDZweCAxMHB4OwogICAgYm9yZGVyLXJhZGl1czogMjBweDsKCiAgICBpbnB1dCB7CiAgICAgICAgb3V0bGluZTogbm9uZTsKICAgICAgICBib3JkZXI6IG5vbmU7CiAgICAgICAgZm9udC1zaXplOiAxNHB4OwogICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYigyNDYsIDI0NiwgMjQ2KTsKICAgIH0KCiAgICBkaXYgewoKICAgICAgICAmOmhvdmVyIHsKICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgIH0KICAgIH0KfQoKLnZpZXctY291bnQgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgdG9wOiAwOwogICAgbGVmdDogMDsKICAgIGNvbG9yOiByZ2IoMjU1LCAyNTUsIDI1NSk7CiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgICAvLyBib3JkZXItcmFkaXVzOiA1cHg7CiAgICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiA1cHg7CiAgICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogNXB4OwogICAgcGFkZGluZzogMnB4IDhweDsKICAgIGZvbnQtc2l6ZTogMTJweDsKICAgIGZvbnQtd2VpZ2h0OiA2MDA7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNik7CgogICAgaSB7CiAgICAgICAgbWFyZ2luLXJpZ2h0OiA0cHg7CiAgICB9Cn0KCi5oZWFsdGgtbmV3cyB7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgZmxleC13cmFwOiB3cmFwOwogICAgcGFkZGluZzogMjBweCAwOwogICAgZ2FwOiAxNXB4OwogICAgLyog5re75Yqg6Ze06LedICovCn0KCi5oZWFsdGgtbmV3cyAuaXRlbSB7CiAgICBmbGV4OiAwIDAgY2FsYygyMCUgLSAxNXB4KTsKICAgIC8qIOavj+ihjDXkuKrvvIzlh4/ljrvpl7Tot50gKi8KICAgIG1heC13aWR0aDogY2FsYygyNSUgLSAxNXB4KTsKICAgIC8qIOmYsuatomZsZXjluIPlsYDlnKjmn5Dkupvmg4XlhrXkuIvlpLHmlYggKi8KICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC4zcyBlYXNlOwogICAgcG9zaXRpb246IHJlbGF0aXZlOwp9CgouaGVhbHRoLW5ld3MgLml0ZW06aG92ZXIgewogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01cHgpOwp9CgouaGVhbHRoLW5ld3MgLmNvdmVyIHsKICAgIHdpZHRoOiAxMDAlOwogICAgaGVpZ2h0OiAxMjBweDsKICAgIG9iamVjdC1maXQ6IGNvdmVyOwogICAgYm9yZGVyLXJhZGl1czogOHB4OwogICAgbWFyZ2luLWJvdHRvbTogMTBweDsKfQoKLmhlYWx0aC1uZXdzIC50aXRsZSB7CiAgICBmb250LXNpemU6IDE4cHg7CiAgICBmb250LXdlaWdodDogNTAwOwogICAgd2hpdGUtc3BhY2U6IG5vd3JhcDsKICAgIC8qIOS4jeaNouihjCAqLwogICAgb3ZlcmZsb3c6IGhpZGRlbjsKICAgIC8qIOi2heWHuumakOiXjyAqLwogICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7CiAgICAvKiDmmL7npLrnnIHnlaXlj7cgKi8KICAgIHBhZGRpbmc6IDAgNXB4Owp9CgoucmVzdWx0LWNvbnRhaW5lciB7CiAgICBmb250LXNpemU6IDIycHg7CiAgICBtYXJnaW4tYm90dG9tOiAyMHB4OwogICAgZGlzcGxheTogZmxleDsKICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKCiAgICAucmVzdWx0IHsKICAgICAgICBmb250LXNpemU6IDM0cHg7CiAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICB9Cn0KCi5zZWFyY2gtY29udGFpbmVyIHsKICAgIHdpZHRoOiA4MDBweDsKICAgIG1hcmdpbjogMCBhdXRvOwogICAgcGFkZGluZzogMzBweCAxMHB4OwogICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKfQoKLnBhZ2VyIHsKICAgIG1hcmdpbi1ibG9jazogMjBweDsKfQo="},{"version":3,"sources":["SearchPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqFA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"SearchPage.vue","sourceRoot":"src/views/user","sourcesContent":["<template>\n    <div class=\"search-container\">\n        <!-- 搜索结果 -->\n        <div class=\"result-container\">\n            <div>\n                搜索结果\n                <span class=\"result\">{{ total }}</span>\n                条\n            </div>\n            <div class=\"search-block\">\n                <input @keyup.enter=\"fetchNewsList\" v-model=\"newsQueryDto.title\" placeholder=\"搜索新闻...\" type=\"text\">\n                <div @click=\"fetchNewsList\">\n                    <i class=\"el-icon-search\"></i>\n                </div>\n            </div>\n        </div>\n        <!-- 内容区域 -->\n        <div>\n            <div class=\"health-news\">\n                <div v-if=\"!newsList.length\">\n                    <el-empty description=\"暂无新闻信息\"></el-empty>\n                </div>\n                <div @click=\"newsClick(healthNews)\" class=\"item\" v-for=\"(healthNews, index) in newsList\" :key=\"index\">\n                    <img class=\"cover\" :src=\"healthNews.cover\" alt=\"\" srcset=\"\">\n                    <span class=\"view-count\">{{ healthNews.newsTypeName }}</span>\n                    <div class=\"title\">{{ healthNews.title }}</div>\n                </div>\n            </div>\n        </div>\n        <!-- 分页区域 -->\n        <div class=\"pager\">\n            <el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\"\n                :current-page=\"newsQueryDto.current\" :page-sizes=\"[12, 24]\" :page-size=\"newsQueryDto.size\"\n                layout=\"total, sizes, prev, pager, next, jumper\" :total=\"total\"></el-pagination>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    data() {\n        return {\n            newsList: [],\n            newsQueryDto: {\n                title: '',\n                current: 1, // 默认第一页\n                size: 12, // 默认一页10条\n            },\n            total: 0,\n        }\n    },\n    async created() {\n        this.newsQueryDto.title = this.$router.currentRoute.query.key;\n        this.fetchNewsList(); // 通过关键词查询新闻数据列表\n    },\n    methods: {\n        newsClick(news) {\n            window.open(`/news-detail?id=${news.id}`);\n        },\n        // 分页 - 处理页面当前页切换\n        handleCurrentChange(current) {\n            this.newsQueryDto.current = current; // 当前页选中\n            this.fetchNewsList(); // 重新加载页面数据\n        },\n        handleSizeChange(size) {\n            this.newsQueryDto.size = size; // 当前页面大小重置\n            this.newsQueryDto.currrent = 1; // 当前页设置为第一页\n            this.fetchNewsList(); // 重新加载页面数据\n        },\n        async fetchNewsList() {\n            try {\n                const { data, total } = await this.$axios.post(`/news/list`, this.newsQueryDto);\n                this.newsList = data;\n                this.total = total;\n            } catch (error) {\n                this.$message.warning(error.message);\n                console.error('查询新闻数据列表异常:', error);\n            }\n        },\n    }\n}\n</script>\n\n<style scoped lang=\"scss\">\n\n.search-block {\n    display: flex;\n    align-items: center;\n    background-color: rgb(246, 246, 246);\n    box-shadow: 0 4px 6px rgb(240,240,240);\n    padding: 6px 10px;\n    border-radius: 20px;\n\n    input {\n        outline: none;\n        border: none;\n        font-size: 14px;\n        background-color: rgb(246, 246, 246);\n    }\n\n    div {\n\n        &:hover {\n            cursor: pointer;\n        }\n    }\n}\n\n.view-count {\n    position: absolute;\n    top: 0;\n    left: 0;\n    color: rgb(255, 255, 255);\n    display: inline-block;\n    // border-radius: 5px;\n    border-top-left-radius: 5px;\n    border-bottom-right-radius: 5px;\n    padding: 2px 8px;\n    font-size: 12px;\n    font-weight: 600;\n    background-color: rgba(0, 0, 0, 0.6);\n\n    i {\n        margin-right: 4px;\n    }\n}\n\n.health-news {\n    display: flex;\n    flex-wrap: wrap;\n    padding: 20px 0;\n    gap: 15px;\n    /* 添加间距 */\n}\n\n.health-news .item {\n    flex: 0 0 calc(20% - 15px);\n    /* 每行5个，减去间距 */\n    max-width: calc(25% - 15px);\n    /* 防止flex布局在某些情况下失效 */\n    box-sizing: border-box;\n    cursor: pointer;\n    transition: transform 0.3s ease;\n    position: relative;\n}\n\n.health-news .item:hover {\n    transform: translateY(-5px);\n}\n\n.health-news .cover {\n    width: 100%;\n    height: 120px;\n    object-fit: cover;\n    border-radius: 8px;\n    margin-bottom: 10px;\n}\n\n.health-news .title {\n    font-size: 18px;\n    font-weight: 500;\n    white-space: nowrap;\n    /* 不换行 */\n    overflow: hidden;\n    /* 超出隐藏 */\n    text-overflow: ellipsis;\n    /* 显示省略号 */\n    padding: 0 5px;\n}\n\n.result-container {\n    font-size: 22px;\n    margin-bottom: 20px;\n    display: flex;\n    justify-content: space-between;\n\n    .result {\n        font-size: 34px;\n        font-weight: bold;\n    }\n}\n\n.search-container {\n    width: 800px;\n    margin: 0 auto;\n    padding: 30px 10px;\n    box-sizing: border-box;\n}\n\n.pager {\n    margin-block: 20px;\n}\n</style>"]}]}