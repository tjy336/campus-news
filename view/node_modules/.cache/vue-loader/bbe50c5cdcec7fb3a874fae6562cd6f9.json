{"remainingRequest":"C:\\Users\\86184\\Desktop\\校园新闻系统\\source code\\view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\86184\\Desktop\\校园新闻系统\\source code\\view\\src\\views\\user\\Home.vue?vue&type=style&index=0&id=39d5f299&scoped=true&lang=scss&","dependencies":[{"path":"C:\\Users\\86184\\Desktop\\校园新闻系统\\source code\\view\\src\\views\\user\\Home.vue","mtime":1756041023000},{"path":"C:\\Users\\86184\\Desktop\\校园新闻系统\\source code\\view\\node_modules\\css-loader\\dist\\cjs.js","mtime":1770531371325},{"path":"C:\\Users\\86184\\Desktop\\校园新闻系统\\source code\\view\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1770531338946},{"path":"C:\\Users\\86184\\Desktop\\校园新闻系统\\source code\\view\\node_modules\\postcss-loader\\src\\index.js","mtime":1770531352754},{"path":"C:\\Users\\86184\\Desktop\\校园新闻系统\\source code\\view\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1770531346550},{"path":"C:\\Users\\86184\\Desktop\\校园新闻系统\\source code\\view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1770531376377},{"path":"C:\\Users\\86184\\Desktop\\校园新闻系统\\source code\\view\\node_modules\\vue-loader\\lib\\index.js","mtime":1770531338936}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouaGVhbHRoLW5ld3MtY29udGFpbmVyIHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBnYXA6IDMwcHg7CiAgICBtYXJnaW4tYmxvY2s6IDMwcHg7CgogICAgLmxlZnQgewogICAgICAgIHdpZHRoOiA4MCU7CiAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgIH0KCiAgICAucmlnaHQgewogICAgICAgIHdpZHRoOiAyMCU7CiAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgICAgICBib3gtc2hhZG93OiAwIDRweCA2cHggcmdiKDI0MCwgMjQwLCAyNDApOwogICAgICAgIHBhZGRpbmc6IDIwcHg7CgogICAgICAgIC5pdGVtIHsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDsKICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICBwYWRkaW5nOiAxMHB4OwoKICAgICAgICAgICAgJjpob3ZlciB7CiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTJweCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC5jb3ZlciB7CiAgICAgICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgICAgICAgIGhlaWdodDogMTEwcHg7CiAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1cHg7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgLy8gLnJlY29tbWVuZCB7CiAgICAvLyAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDI0NiwgMjQ2LCAyNDYpOwogICAgLy8gfQoKICAgIC5jb250ZW50IHsKCiAgICAgICAgLmxlZnQtdHlwZSB7CiAgICAgICAgICAgIC50eXBlcyB7CiAgICAgICAgICAgICAgICBwYWRkaW5nLWJsb2NrOiAyMHB4OwogICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgICAgIGZsZXgtd3JhcDogd3JhcDsKICAgICAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgICAgICBnYXA6IDIwcHg7CgogICAgICAgICAgICAgICAgLnR5cGUtaXRlbSB7CiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogNnB4IDEycHg7CiAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMjBweDsKICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CgogICAgICAgICAgICAgICAgICAgICY6aG92ZXIgewogICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjQ2LCAyNDYsIDI0Nik7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAucGFnZXIgewogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kOwogICAgICAgIH0KCgogICAgICAgIC5oZWFsdGgtbmV3cyB7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGZsZXgtd3JhcDogd3JhcDsKICAgICAgICAgICAgcGFkZGluZzogMjBweCAwOwogICAgICAgICAgICBnYXA6IDE1cHg7CiAgICAgICAgICAgIC8qIOa3u+WKoOmXtOi3nSAqLwogICAgICAgIH0KCiAgICAgICAgLmhlYWx0aC1uZXdzIC5pdGVtIHsKICAgICAgICAgICAgZmxleDogMCAwIGNhbGMoMjAlIC0gMTVweCk7CiAgICAgICAgICAgIC8qIOavj+ihjDXkuKrvvIzlh4/ljrvpl7Tot50gKi8KICAgICAgICAgICAgbWF4LXdpZHRoOiBjYWxjKDIwJSAtIDE1cHgpOwogICAgICAgICAgICAvKiDpmLLmraJmbGV45biD5bGA5Zyo5p+Q5Lqb5oOF5Ya15LiL5aSx5pWIICovCiAgICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgICAgICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuM3MgZWFzZTsKICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgIH0KCiAgICAgICAgLnZpZXctY291bnQgewogICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgICAgIHRvcDogMDsKICAgICAgICAgICAgbGVmdDogMDsKICAgICAgICAgICAgY29sb3I6IHJnYigyNTUsIDI1NSwgMjU1KTsKICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgICAgICAgICAvLyBib3JkZXItcmFkaXVzOiA1cHg7CiAgICAgICAgICAgIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDVweDsKICAgICAgICAgICAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDVweDsKICAgICAgICAgICAgcGFkZGluZzogMnB4IDhweDsKICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4OwogICAgICAgICAgICBmb250LXdlaWdodDogNjAwOwogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNik7CgogICAgICAgICAgICBpIHsKICAgICAgICAgICAgICAgIG1hcmdpbi1yaWdodDogNHB4OwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAuaGVhbHRoLW5ld3MgLml0ZW06aG92ZXIgewogICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTVweCk7CiAgICAgICAgfQoKICAgICAgICAuaGVhbHRoLW5ld3MgLmNvdmVyIHsKICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgIGhlaWdodDogMTEwcHg7CiAgICAgICAgICAgIG9iamVjdC1maXQ6IGNvdmVyOwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7CiAgICAgICAgfQoKICAgICAgICAuaGVhbHRoLW5ld3MgLnRpdGxlIHsKICAgICAgICAgICAgZm9udC1zaXplOiAxNnB4OwogICAgICAgICAgICBmb250LXdlaWdodDogNTAwOwogICAgICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwOwogICAgICAgICAgICAvKiDkuI3mjaLooYwgKi8KICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsKICAgICAgICAgICAgLyog6LaF5Ye66ZqQ6JePICovCiAgICAgICAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOwogICAgICAgICAgICAvKiDmmL7npLrnnIHnlaXlj7cgKi8KICAgICAgICAgICAgcGFkZGluZzogMCA1cHg7CiAgICAgICAgfQogICAgfQp9Cg=="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiKA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views/user","sourcesContent":["<template>\n    <div class=\"health-news-container\">\n        <div class=\"left\">\n            <div class=\"recommend\">\n                <Carousel @obj-detail=\"newsClick\" :carouselItems=\"carouselItems\" />\n            </div>\n            <div class=\"content\">\n                <div style=\"display: flex;justify-content: space-between;align-items: center;\">\n                    <div class=\"left-type\">\n                        <!-- 新闻类别 -->\n                        <div class=\"types\">\n                            <div :style=\"{\n                                backgroundColor: selectedType.value === type.value ? 'rgb(36, 136, 17)' : '',\n                                color: selectedType.value === type.value ? 'rgb(255,255,255)' : ''\n                            }\" @click=\"typeChange(type)\" class=\"type-item\" v-for=\"(type, index) in newsTypeList\"\n                                :key=\"index\">\n                                {{ type.label }}\n                            </div>\n                        </div>\n                    </div>\n                    <div style=\"display: flex;justify-content: flex-end;\">\n                        <AutoInput style=\"width: 200px;\" placeholder=\"搜索校园新闻\" @listener=\"listener\" />\n                    </div>\n                </div>\n                <!-- 新闻列表 -->\n                <div>\n                    <div class=\"health-news\">\n                        <div v-if=\"!newsList.length\">\n                            <el-empty description=\"暂无新闻信息\"></el-empty>\n                        </div>\n                        <div @click=\"newsClick(healthNews)\" class=\"item\" v-for=\"(healthNews, index) in newsList\"\n                            :key=\"index\">\n                            <img class=\"cover\" :src=\"healthNews.cover\" alt=\"\" srcset=\"\">\n                            <span class=\"view-count\">{{ healthNews.newsTypeName }}</span>\n                            <div class=\"title\">{{ healthNews.title }}</div>\n                        </div>\n                    </div>\n                    <div class=\"pager\">\n                        <el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\"\n                            :current-page=\"healthNewsQueryDto.current\" :page-sizes=\"[10, 20]\"\n                            :page-size=\"healthNewsQueryDto.size\" layout=\"total, sizes, prev, pager, next, jumper\"\n                            :total=\"total\"></el-pagination>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"right\">\n            <h3 style=\"margin-top: 0;margin-left: 8px;\">最热新闻</h3>\n            <div class=\"item\" @click=\"newsClick(healthNews)\" v-for=\"(healthNews, index) in healthNewsTopList\"\n                :key=\"index\">\n                <img class=\"cover\" :src=\"healthNews.cover\" alt=\"\" srcset=\"\"></img>\n                <div class=\"title\">{{ healthNews.title }}</div>\n            </div>\n\n        </div>\n\n    </div>\n</template>\n\n<script>\nimport AutoInput from \"@/components/AutoInput.vue\"; // 导入封装好的输入框组件\nimport Carousel from \"@/components/Carousel\"\nexport default {\n    components: { Carousel, AutoInput },\n    data() {\n        return {\n            carouselItems: [],\n            selectedType: {},\n            newsTypeList: [],\n            newsList: [],\n            healthNewsTopList: [],\n            total: 0,\n            healthNewsQueryDto: {\n                newsTypeId: null,\n                current: 1,\n                size: 10,\n            },\n            defaultRecommendCount: 3, // 默认向用户推荐的健康新闻条数\n        }\n    },\n    created() {\n        this.fetchNewsTypes();\n        // this.fetchRecommendHealthNews(this.defaultRecommendCount);\n        this.fetchNewsTop(1, 3); // 查4条\n        this.fetchRecommendHealthNews(this.defaultRecommendCount);\n    },\n    methods: {\n        // 输入框组件输入回传\n        listener(text) {\n            this.healthNewsQueryDto.title = text; // 赋值查询条件的内容\n            this.fetchNews(); // 重新加载数据\n        },\n        newsClick(news) {\n            window.open(`/news-detail?id=${news.id}`);\n        },\n        handleSizeChange(size) {\n            this.healthNewsQueryDto.size = size;\n            this.healthNewsQueryDto.current = 1;\n            this.fetchNews();\n        },\n        handleCurrentChange(current) {\n            this.healthNewsQueryDto.current = current;\n            this.fetchNews();\n        },\n        typeChange(type) {\n            this.selectedType = type;\n            this.healthNewsQueryDto.newsTypeId = type.value;\n            this.fetchNews();\n        },\n        async fetchRecommendHealthNews(count) {\n            try {\n                const { data } = await this.$axios.get(`/news/recommend/${count}`);\n                this.carouselItems = data.map(entity => {\n                    return {\n                        id: entity.id,\n                        title: entity.title,\n                        subtitle: entity.summary,\n                        image: entity.cover\n                    }\n                })\n            } catch (error) {\n                this.$message.info(error.message);\n            }\n        },\n        async fetchNewsTypes() {\n            try {\n                const { data } = await this.$axios.get('/news/types');\n                this.newsTypeList = data;\n                this.newsTypeList.unshift({ value: null, label: \"全部\" });\n                this.typeChange(this.newsTypeList[0]);\n            } catch (error) {\n                this.$message.info(error.message);\n            }\n        },\n        async fetchNews() {\n            try {\n                const { data, total } = await this.$axios.post('/news/list', this.healthNewsQueryDto);\n                this.newsList = data;\n                this.total = total;\n            } catch (error) {\n                this.$message.info(error.message);\n            }\n        },\n        async fetchNewsTop(current, size) {\n            try {\n                const queryDto = {\n                    current,\n                    size,\n                    sortField: 'doubleSort',\n                }\n                const { data } = await this.$axios.post('/news/list', queryDto);\n                this.healthNewsTopList = data;\n            } catch (error) {\n                this.$message.info(error.message);\n            }\n        }\n    }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.health-news-container {\n    display: flex;\n    gap: 30px;\n    margin-block: 30px;\n\n    .left {\n        width: 80%;\n        box-sizing: border-box;\n    }\n\n    .right {\n        width: 20%;\n        box-sizing: border-box;\n        box-shadow: 0 4px 6px rgb(240, 240, 240);\n        padding: 20px;\n\n        .item {\n            margin-bottom: 10px;\n            cursor: pointer;\n            padding: 10px;\n\n            &:hover {\n                transform: translateY(-2px);\n            }\n\n            .cover {\n                width: 100%;\n                height: 110px;\n                border-radius: 5px;\n            }\n        }\n    }\n\n    // .recommend {\n    //     background-color: rgb(246, 246, 246);\n    // }\n\n    .content {\n\n        .left-type {\n            .types {\n                padding-block: 20px;\n                display: flex;\n                flex-wrap: wrap;\n                align-items: center;\n                gap: 20px;\n\n                .type-item {\n                    padding: 6px 12px;\n                    border-radius: 20px;\n                    cursor: pointer;\n\n                    &:hover {\n                        background-color: rgb(246, 246, 246);\n                    }\n                }\n            }\n        }\n\n        .pager {\n            display: flex;\n            justify-content: flex-end;\n        }\n\n\n        .health-news {\n            display: flex;\n            flex-wrap: wrap;\n            padding: 20px 0;\n            gap: 15px;\n            /* 添加间距 */\n        }\n\n        .health-news .item {\n            flex: 0 0 calc(20% - 15px);\n            /* 每行5个，减去间距 */\n            max-width: calc(20% - 15px);\n            /* 防止flex布局在某些情况下失效 */\n            box-sizing: border-box;\n            cursor: pointer;\n            transition: transform 0.3s ease;\n            position: relative;\n        }\n\n        .view-count {\n            position: absolute;\n            top: 0;\n            left: 0;\n            color: rgb(255, 255, 255);\n            display: inline-block;\n            // border-radius: 5px;\n            border-top-left-radius: 5px;\n            border-bottom-right-radius: 5px;\n            padding: 2px 8px;\n            font-size: 12px;\n            font-weight: 600;\n            background-color: rgba(0, 0, 0, 0.6);\n\n            i {\n                margin-right: 4px;\n            }\n        }\n\n        .health-news .item:hover {\n            transform: translateY(-5px);\n        }\n\n        .health-news .cover {\n            width: 100%;\n            height: 110px;\n            object-fit: cover;\n            border-radius: 8px;\n            margin-bottom: 10px;\n        }\n\n        .health-news .title {\n            font-size: 16px;\n            font-weight: 500;\n            white-space: nowrap;\n            /* 不换行 */\n            overflow: hidden;\n            /* 超出隐藏 */\n            text-overflow: ellipsis;\n            /* 显示省略号 */\n            padding: 0 5px;\n        }\n    }\n}\n</style>"]}]}